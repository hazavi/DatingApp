@page "/admin"
@inject NavigationManager NavigationManager
@inject DatingApp.Data.DatingContext DB
@inject DatingApp.Services.UserService UserService
@using DatingApp.Models
@using System.Linq
@using Microsoft.EntityFrameworkCore
@rendermode InteractiveServer


@if (!UserService.IsLoggedIn)
{
    <div>
        <h3>Login as an Admin to acess this page.</h3>
        <a href="/login">Go to Login</a>
    </div>
}
else if (UserService.IsLoggedIn && UserService.Login != "admin")
{
    <div>
        <h1>Not an Admin</h1>
        <h3>You need to be an Admin to access to this page.</h3>
    </div>
}
else
{
    <List />
}

@code {
    [SupplyParameterFromForm]
    private User user { get; set; } = new();

}
